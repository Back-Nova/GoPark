<!DOCTYPE html>
<html lang="es" data-beasties-container>
<head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iniciar Sesión</title>
  <style>@font-face{font-family:'Orbitron';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/orbitron/v34/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1ny_CmBoWgz.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style>
  <link rel="stylesheet" href="styles.css">
<style>body{margin:0;padding:0;font-family:Orbitron,Arial,sans-serif;min-height:100vh;background:#181e21;background:linear-gradient(120deg,#181e21,#23292c);animation:bg-move 12s ease-in-out infinite alternate;background-size:200% 200%;overflow-x:hidden}@keyframes bg-move{0%{background-position:0% 50%}to{background-position:100% 50%}}.login-bg{position:relative;min-height:100vh;width:100vw;overflow:hidden;display:flex;align-items:center;justify-content:center;gap:0}.back-btn{position:absolute;top:32px;left:32px;background:#00e1e717;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;z-index:10;transition:background .2s;display:flex;align-items:center;justify-content:center;outline:none}.back-btn:hover{background:#00e1e72e}.back-icon{font-size:2rem;color:#00e1e7;display:block;line-height:1}@media (max-width: 700px){.login-bg{flex-direction:column;justify-content:flex-start;gap:0}}.cube{position:absolute;width:36px;height:36px;background:#263038;opacity:.7;transform:rotate(22deg);z-index:2}.cube1{left:28%;top:18%}.cube2{right:26%;top:10%}.smile{position:absolute;left:20vw;bottom:15vh;width:44px;height:22px;border-bottom:4px solid #00e1e7;border-radius:0 0 44px 44px;opacity:.16}.swirl,.swirl2{position:absolute;border-radius:50%;opacity:.06;border-color:#00e1e7!important;border-style:solid;border-width:3px}.swirl{width:32px;height:32px;left:38vw;top:33vh}.swirl2{left:55vw;top:17vh;width:24px;height:24px;border-width:2px}@media (max-width: 700px){.cube,.smile,.swirl,.swirl2{display:none}}.login-form-container{position:static;background:#1d262cf7;border-radius:28px;box-shadow:0 0 60px 12px #00e1e711,0 8px 32px #00e1e70f;border:1.5px solid #183238;padding:48px 40px 36px;min-width:370px;max-width:420px;width:100%;z-index:3;transition:box-shadow .4s;align-self:center;margin:0}@media (max-width: 950px){.login-form-container{min-width:290px;padding:28px 12px 22px}}@media (max-width: 700px){.login-form-container{margin:42px auto 24px;min-width:auto;width:92vw}}.login-form h2{font-family:Orbitron,Arial,sans-serif;font-size:2.4rem;margin:0 0 28px;letter-spacing:2px;font-weight:700;text-align:left;background:linear-gradient(90deg,#fff,#00e1e7 80%);background-size:300% 100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:transparent;animation:gradient-move 3s linear infinite}@keyframes gradient-move{0%{background-position:0% 50%}to{background-position:100% 50%}}.login-form label{color:#00e1e7;font-size:1.04rem;margin-top:12px;display:block;letter-spacing:.5px;font-weight:600;opacity:.95}.input-group{position:relative;margin-bottom:18px}.input-group input{width:100%;padding:13px 42px 13px 16px;border:1.5px solid #00e1e7;border-radius:8px;background:#192024;color:#00e1e7;font-size:1.1rem;margin-top:6px;box-sizing:border-box;outline:none;transition:box-shadow .2s,border .2s;box-shadow:0 1px 4px #00e1e726}.input-group input:focus{border-color:#04fff8;box-shadow:0 0 0 2px #00e1e777}.input-group input::placeholder{color:#3dc3c7;opacity:1}.input-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#00e1e7;font-size:1.3rem}.login-btn{width:100%;background:linear-gradient(90deg,#00e1e7,#0cb9bb);color:#fff;font-family:Orbitron,Arial,sans-serif;font-size:1.15rem;border:none;border-radius:8px;padding:13px 0;margin-top:18px;cursor:pointer;letter-spacing:1px;font-weight:700;transition:background .2s,color .2s,box-shadow .25s;position:relative;overflow:hidden;box-shadow:0 2px 16px #00e1e721}.login-btn:before{content:"";position:absolute;left:-75%;top:0;width:50%;height:100%;background:linear-gradient(120deg,#fff8,#00e1e788);transform:skew(-25deg);transition:left .4s cubic-bezier(.4,0,.2,1);z-index:1;pointer-events:none}.login-btn:hover:before{left:120%}.login-btn:hover{background:linear-gradient(90deg,#04fff8,#07cfd2);color:#192024}.login-btn:active{background:#00e1e7;color:#fff;box-shadow:0 1px 4px #00e1e72e}.form-links{text-align:center;margin-top:27px}.form-links a{display:block;color:#00e1e7;text-decoration:none;font-size:1rem;margin-bottom:6px;opacity:.8;transition:text-decoration .2s,color .2s}.form-links a:hover{text-decoration:underline;color:#04fff8}</style><link rel="stylesheet" href="styles-7GAZFAJD.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles-7GAZFAJD.css"></noscript></head>
<body>
  <div class="login-bg">
    <button class="back-btn" title="Volver" onclick="window.location.href='https://gopark-production.up.railway.app/';">
      <span class="back-icon">&#x21A9;</span>
    </button>
    <!-- Ejemplo en cualquier componente -->
    <img src="../../../Image/Login.png" alt="Login">
    <div class="cube cube1"></div>
    <div class="cube cube2"></div>
    <div class="smile"></div>
    <div class="swirl"></div>
    <div class="swirl swirl2"></div>
    <div class="login-form-container">
      <form class="login-form">
        <h2>Iniciar Sesion</h2>
        <label for="email">Email</label>
        <div class="input-group">
          <input type="email" id="email" placeholder="Ingrese su email" required>
          <span class="input-icon">&#x2709;</span>
        </div>
        <label for="password">Contraseña</label>
        <div class="input-group">
          <input type="password" id="password" placeholder="Ingrese su contraseña" required>
          <span class="input-icon">&#128274;</span>
        </div>
        <button type="submit" class="login-btn">Ingresar</button>
        <div class="form-links">
          <a onclick="window.location.href='/recuperar_contra'">¿A olvidado su contraseña?</a>
          <a onclick="window.location.href='/register'">¿Esta Registrado?</a>
        </div>
      </form>
    </div>
  </div>
  <script>
    document.querySelector('.login-form').addEventListener('submit', function(e) {
    e.preventDefault();

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    fetch('/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            console.log("Login correcto");

            // Guardar datos del usuario en localStorage
            if (data.usuario) {
                localStorage.setItem("usuario", JSON.stringify(data.usuario));
            }

            // Redirigir a la página correspondiente
            window.location.href = data.redirect;
        } else {
            console.error("Error de autenticación:", data.message);
            alert("Error de autenticación: " + data.message);
        }
    })
    .catch(err => {
        console.error("Error:", err);
        alert("Error al iniciar sesión.");
    });
});

  </script>
<script src="polyfills-B6TNHZQ6.js" type="module"></script><script src="main-RLLGLMWQ.js" type="module"></script></body>
</html>